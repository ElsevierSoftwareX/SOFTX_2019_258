var fs = require('fs');
var SparqlParser = require('sparqljs').Parser;
var parser = new SparqlParser();

/**
 *
 * Compute precision, recall, and F1-score, comparing the ground truth
 * semantic models against the semantic models generated by SeMi.
 * The JARQL serialization is adopted for this comparison.
 *
 **/

var data_folder = process.argv.slice(2)[0];

var gold_sm_path = 'evaluation/taheriyan2016/' + data_folder + '/semantic_models_gt/jarql/s01-cb.query';
var semi_sm_path = 'evaluation/taheriyan2016/' + data_folder + '/semantic_models_semi/jarql/s01-cb.query';

// Before the SPARQL processing, we need to replace '-' wihth "_"
// XXX This change should be adjusted to compare generate KGs
var gold_sm = fs.readFileSync(gold_sm_path, 'utf-8').replace(/-/g, '_');
var semi_sm = fs.readFileSync(semi_sm_path, 'utf-8').replace(/-/g, '_');

var gold_query = parser.parse(gold_sm);
var semi_query = parser.parse(semi_sm);

var gold_relations;
var semi_relations;

//console.log(gold_query['template']);
//console.log(semi_query['template']);